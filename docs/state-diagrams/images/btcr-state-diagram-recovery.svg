<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: self_sovereign_btcr_state_diagram Pages: 1 -->
<svg width="929pt" height="1149pt"
 viewBox="0.00 0.00 929.00 1149.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(72 1077)">
<title>self_sovereign_btcr_state_diagram</title>
<polygon fill="#ffffff" stroke="transparent" points="-72,72 -72,-1077 857,-1077 857,72 -72,72"/>
<!-- begin -->
<g id="node1" class="node">
<title>begin</title>
<ellipse fill="#a0ffa0" stroke="#a0ffa0" cx="471" cy="-933" rx="72" ry="72"/>
<text text-anchor="middle" x="471" y="-928" font-family="Times,serif" font-size="20.00" fill="#000000">Begin</text>
</g>
<!-- tx_init_recovery -->
<g id="node6" class="node">
<title>tx_init_recovery</title>
<polygon fill="#ffffff" stroke="#00b000" points="566.5,-824 375.5,-824 375.5,-771 566.5,-771 566.5,-824"/>
<text text-anchor="middle" x="471" y="-808.8" font-family="Times,serif" font-size="14.00" fill="#000000">tx: Initialize DID </text>
<text text-anchor="middle" x="471" y="-793.8" font-family="Times,serif" font-size="14.00" fill="#000000"> (with recovery proof </text>
<text text-anchor="middle" x="471" y="-778.8" font-family="Times,serif" font-size="14.00" fill="#000000"> and required revocation proof)</text>
</g>
<!-- begin&#45;&gt;tx_init_recovery -->
<g id="edge1" class="edge">
<title>begin&#45;&gt;tx_init_recovery</title>
<path fill="none" stroke="#00b000" d="M471,-850.7963C471,-844.3635 471,-838.113 471,-832.2917"/>
<polygon fill="#00b000" stroke="#00b000" points="471.0001,-850.886 466.5,-860.8859 471,-855.886 471,-860.886 471,-860.886 471,-860.886 471,-855.886 475.5,-860.886 471.0001,-850.886 471.0001,-850.886"/>
<ellipse fill="none" stroke="#00b000" cx="471" cy="-828.0987" rx="4" ry="4"/>
</g>
<!-- valid_with_recovery_proof -->
<g id="node2" class="node">
<title>valid_with_recovery_proof</title>
<path fill="#80a0ff" stroke="#80a0ff" d="M567,-734C567,-734 375,-734 375,-734 369,-734 363,-728 363,-722 363,-722 363,-530 363,-530 363,-524 369,-518 375,-518 375,-518 567,-518 567,-518 573,-518 579,-524 579,-530 579,-530 579,-722 579,-722 579,-728 573,-734 567,-734"/>
<text text-anchor="middle" x="471" y="-632" font-family="Times,serif" font-size="20.00" fill="#000000">Valid DID </text>
<text text-anchor="middle" x="471" y="-610" font-family="Times,serif" font-size="20.00" fill="#000000"> (with recovery proof)</text>
</g>
<!-- tx_spend_with_recovery -->
<g id="node7" class="node">
<title>tx_spend_with_recovery</title>
<polygon fill="#ffffff" stroke="#a020f0" points="184,-480 0,-480 0,-444 184,-444 184,-480"/>
<text text-anchor="middle" x="92" y="-458.3" font-family="Times,serif" font-size="14.00" fill="#000000">tx: Noncompliant BTC Spend</text>
</g>
<!-- valid_with_recovery_proof&#45;&gt;tx_spend_with_recovery -->
<g id="edge7" class="edge">
<title>valid_with_recovery_proof&#45;&gt;tx_spend_with_recovery</title>
<path fill="none" stroke="#a020f0" d="M353.3999,-575.1124C282.0733,-544.2481 194.7906,-506.4793 141.3095,-483.3371"/>
<polygon fill="#a020f0" stroke="#a020f0" points="353.7234,-575.2523 361.1139,-583.3536 358.3122,-577.238 362.901,-579.2237 362.901,-579.2237 362.901,-579.2237 358.3122,-577.238 364.6881,-575.0937 353.7234,-575.2523 353.7234,-575.2523"/>
<ellipse fill="none" stroke="#a020f0" cx="137.3411" cy="-481.6199" rx="4" ry="4"/>
</g>
<!-- tx_revocation -->
<g id="node8" class="node">
<title>tx_revocation</title>
<polygon fill="#ffffff" stroke="#ff00ff" points="785,-225 575,-225 575,-189 785,-189 785,-225"/>
<text text-anchor="middle" x="680" y="-203.3" font-family="Times,serif" font-size="14.00" fill="#000000">tx: Explicit Immediate Revocation</text>
</g>
<!-- valid_with_recovery_proof&#45;&gt;tx_revocation -->
<g id="edge12" class="edge">
<title>valid_with_recovery_proof&#45;&gt;tx_revocation</title>
<path fill="none" stroke="#ff00ff" d="M586.6325,-542.1779C627.3349,-505.5497 668.1219,-458.8457 689,-406 715.4683,-339.0047 692.8888,-316.0257 694,-244 694.0564,-240.3475 693.485,-236.6155 692.5443,-232.9949"/>
<polygon fill="#ff00ff" stroke="#ff00ff" points="586.5267,-542.2715 576.0559,-545.5294 582.7825,-545.5853 579.0383,-548.8991 579.0383,-548.8991 579.0383,-548.8991 582.7825,-545.5853 582.0207,-552.2689 586.5267,-542.2715 586.5267,-542.2715"/>
<ellipse fill="none" stroke="#ff00ff" cx="691.2561" cy="-229.1164" rx="4" ry="4"/>
</g>
<!-- tx_update_with_recovery_proof -->
<g id="node10" class="node">
<title>tx_update_with_recovery_proof</title>
<polygon fill="#ffffff" stroke="#4060ff" points="555.5,-481 386.5,-481 386.5,-443 555.5,-443 555.5,-481"/>
<text text-anchor="middle" x="471" y="-465.8" font-family="Times,serif" font-size="14.00" fill="#000000">tx: Compliant Update </text>
<text text-anchor="middle" x="471" y="-450.8" font-family="Times,serif" font-size="14.00" fill="#000000"> (including recovery proof)</text>
</g>
<!-- valid_with_recovery_proof&#45;&gt;tx_update_with_recovery_proof -->
<g id="edge3" class="edge">
<title>valid_with_recovery_proof&#45;&gt;tx_update_with_recovery_proof</title>
<path fill="none" stroke="#4060ff" d="M471,-507.698C471,-501.1284 471,-494.9483 471,-489.3835"/>
<polygon fill="#4060ff" stroke="#4060ff" points="471.0001,-507.9808 466.5,-517.9808 471,-512.9808 471,-517.9808 471,-517.9808 471,-517.9808 471,-512.9808 475.5,-517.9808 471.0001,-507.9808 471.0001,-507.9808"/>
<ellipse fill="none" stroke="#4060ff" cx="471" cy="-485.1779" rx="4" ry="4"/>
</g>
<!-- settling_to_with_recovery -->
<g id="node3" class="node">
<title>settling_to_with_recovery</title>
<polygon fill="#5070ff" stroke="#5070ff" points="572,-406 464,-334 572,-262 680,-334 572,-406"/>
<polyline fill="none" stroke="#5070ff" points="473.9846,-340.6564 473.9846,-327.3436 "/>
<polyline fill="none" stroke="#5070ff" points="562.0154,-268.6564 581.9846,-268.6564 "/>
<polyline fill="none" stroke="#5070ff" points="670.0154,-327.3436 670.0154,-340.6564 "/>
<polyline fill="none" stroke="#5070ff" points="581.9846,-399.3436 562.0154,-399.3436 "/>
<text text-anchor="middle" x="572" y="-340" font-family="Times,serif" font-size="20.00" fill="#000000">Settling... </text>
<text text-anchor="middle" x="572" y="-318" font-family="Times,serif" font-size="20.00" fill="#000000"> (default 24 hours)</text>
</g>
<!-- settling_to_with_recovery&#45;&gt;valid_with_recovery_proof -->
<g id="edge5" class="edge">
<title>settling_to_with_recovery:w&#45;&gt;valid_with_recovery_proof</title>
<path fill="none" stroke="#4060ff" d="M464,-334C432,-334 445.6729,-379.768 464,-406 491.3796,-445.1891 537.6204,-403.8109 565,-443 579.1402,-463.2392 578.7905,-485.891 570.7451,-508.177"/>
<polygon fill="#4060ff" stroke="#4060ff" points="567.397,-507.1171 566.8457,-517.6976 573.8748,-509.7703 567.397,-507.1171"/>
<text text-anchor="middle" x="597.5" y="-458.3" font-family="Times,serif" font-size="14.00" fill="#4060ff">timeout</text>
<polyline fill="none" stroke="#4060ff" points="619,-454.5 576,-454.5 575.0518,-466.133 "/>
</g>
<!-- settling_to_with_recovery&#45;&gt;tx_revocation -->
<g id="edge6" class="edge">
<title>settling_to_with_recovery:e&#45;&gt;tx_revocation</title>
<path fill="none" stroke="#ff00ff" d="M688.238,-328.2951C697.023,-311.8774 690.5008,-263.745 685.1318,-233.2794"/>
<polygon fill="#ff00ff" stroke="#ff00ff" points="688.2211,-328.3067 677.438,-330.3005 684.1106,-331.1534 680,-334 680,-334 680,-334 684.1106,-331.1534 682.562,-337.6995 688.2211,-328.3067 688.2211,-328.3067"/>
<ellipse fill="none" stroke="#ff00ff" cx="684.3775" cy="-229.1315" rx="4" ry="4"/>
</g>
<!-- frozen -->
<g id="node4" class="node">
<title>frozen</title>
<polygon fill="#d060a0" stroke="#d060a0" points="177,-406 69,-334 177,-262 285,-334 177,-406"/>
<polyline fill="none" stroke="#d060a0" points="78.9846,-340.6564 78.9846,-327.3436 "/>
<polyline fill="none" stroke="#d060a0" points="167.0154,-268.6564 186.9846,-268.6564 "/>
<polyline fill="none" stroke="#d060a0" points="275.0154,-327.3436 275.0154,-340.6564 "/>
<polyline fill="none" stroke="#d060a0" points="186.9846,-399.3436 167.0154,-399.3436 "/>
<text text-anchor="middle" x="177" y="-340" font-family="Times,serif" font-size="20.00" fill="#000000">Frozen... </text>
<text text-anchor="middle" x="177" y="-318" font-family="Times,serif" font-size="20.00" fill="#000000"> (default 24 hours)</text>
</g>
<!-- revoked -->
<g id="node5" class="node">
<title>revoked</title>
<polygon fill="#ff50b0" stroke="#ff50b0" points="398,-46.1766 398,-105.8234 355.8234,-148 296.1766,-148 254,-105.8234 254,-46.1766 296.1766,-4 355.8234,-4 398,-46.1766"/>
<polygon fill="none" stroke="#ff50b0" points="402,-44.5198 402,-107.4802 357.4802,-152 294.5198,-152 250,-107.4802 250,-44.5198 294.5198,0 357.4802,0 402,-44.5198"/>
<text text-anchor="middle" x="326" y="-71" font-family="Times,serif" font-size="20.00" fill="#000000">Revoked</text>
</g>
<!-- frozen&#45;&gt;revoked -->
<g id="edge10" class="edge">
<title>frozen:w&#45;&gt;revoked</title>
<path fill="none" stroke="#ff00ff" d="M69,-334C-48.3805,-334 139.676,-198.2965 251.8755,-123.7265"/>
<polygon fill="#ff00ff" stroke="#ff00ff" points="254.0781,-126.4658 260.4834,-118.0264 250.2133,-120.6294 254.0781,-126.4658"/>
<text text-anchor="middle" x="175.5" y="-203.3" font-family="Times,serif" font-size="14.00" fill="#ff00ff">timeout</text>
<polyline fill="none" stroke="#ff00ff" points="197,-199.5 154,-199.5 159.3679,-188.109 "/>
</g>
<!-- tx_recovery -->
<g id="node9" class="node">
<title>tx_recovery</title>
<polygon fill="#ffffff" stroke="#666666" points="368,-481 202,-481 202,-443 368,-443 368,-481"/>
<text text-anchor="middle" x="285" y="-465.8" font-family="Times,serif" font-size="14.00" fill="#000000">tx: Recovery </text>
<text text-anchor="middle" x="285" y="-450.8" font-family="Times,serif" font-size="14.00" fill="#000000"> (DID follows this UTXO)</text>
</g>
<!-- frozen&#45;&gt;tx_recovery -->
<g id="edge9" class="edge">
<title>frozen:e&#45;&gt;tx_recovery</title>
<path fill="none" stroke="#666666" d="M295.196,-335.7398C321.951,-346.1991 307.3429,-401.4036 295.4335,-435.2608"/>
<polygon fill="#666666" stroke="#666666" points="294.8575,-335.6821 285.757,-329.5641 289.9288,-334.8411 285,-334 285,-334 285,-334 289.9288,-334.8411 284.243,-338.4359 294.8575,-335.6821 294.8575,-335.6821"/>
<ellipse fill="none" stroke="#666666" cx="294.0514" cy="-439.0763" rx="4" ry="4"/>
</g>
<!-- tx_init_recovery&#45;&gt;valid_with_recovery_proof -->
<g id="edge2" class="edge">
<title>tx_init_recovery&#45;&gt;valid_with_recovery_proof</title>
<path fill="none" stroke="#00b000" d="M471,-770.7031C471,-762.942 471,-753.9321 471,-744.2763"/>
<polygon fill="#00b000" stroke="#00b000" points="474.5001,-744.0052 471,-734.0052 467.5001,-744.0053 474.5001,-744.0052"/>
</g>
<!-- tx_spend_with_recovery&#45;&gt;frozen -->
<g id="edge8" class="edge">
<title>tx_spend_with_recovery&#45;&gt;frozen</title>
<path fill="none" stroke="#a020f0" d="M103.9981,-443.9322C112.9668,-430.4264 125.7658,-411.1527 138.1486,-392.5056"/>
<polygon fill="#a020f0" stroke="#a020f0" points="141.1771,-394.2718 143.7935,-384.0051 135.3458,-390.3994 141.1771,-394.2718"/>
</g>
<!-- tx_revocation&#45;&gt;revoked -->
<g id="edge13" class="edge">
<title>tx_revocation&#45;&gt;revoked</title>
<path fill="none" stroke="#ff00ff" d="M574.8858,-198.4858C523.375,-191.143 461.6857,-177.4679 411,-152 402.8165,-147.8881 394.8147,-142.7801 387.1962,-137.1704"/>
<polygon fill="#ff00ff" stroke="#ff00ff" points="389.1432,-134.2519 379.0892,-130.9098 384.8647,-139.7921 389.1432,-134.2519"/>
</g>
<!-- tx_recovery&#45;&gt;valid_with_recovery_proof -->
<g id="edge11" class="edge">
<title>tx_recovery&#45;&gt;valid_with_recovery_proof</title>
<path fill="none" stroke="#666666" d="M306.5752,-481.0233C319.2596,-492.2074 336.3973,-507.3181 354.8322,-523.5724"/>
<polygon fill="#666666" stroke="#666666" points="352.9875,-526.6122 362.803,-530.6005 357.617,-521.3617 352.9875,-526.6122"/>
</g>
<!-- tx_update_with_recovery_proof&#45;&gt;settling_to_with_recovery -->
<g id="edge4" class="edge">
<title>tx_update_with_recovery_proof&#45;&gt;settling_to_with_recovery</title>
<path fill="none" stroke="#4060ff" d="M486.1207,-442.8371C497.3401,-428.6185 513.2413,-408.4665 528.3169,-389.3607"/>
<polygon fill="#4060ff" stroke="#4060ff" points="531.2645,-391.2754 534.7113,-381.2569 525.7692,-386.9393 531.2645,-391.2754"/>
</g>
<!-- version -->
<g id="node11" class="node">
<title>version</title>
<text text-anchor="middle" x="546" y="-72.3" font-family="Times,serif" font-size="14.00" fill="#888888">rendered 20170721 from commit 70ab2ee</text>
</g>
</g>
</svg>
